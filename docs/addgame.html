<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Your Game - Ploinky</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 800px;
            width: 100%;
            padding: 40px;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .info-section {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
        }

        .info-section h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .info-section p {
            color: #555;
            margin-bottom: 10px;
        }

        .info-section ul {
            margin-left: 20px;
            color: #555;
        }

        .info-section li {
            margin-bottom: 8px;
        }

        .code-example {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9em;
        }

        .code-comment {
            color: #75715e;
        }

        .warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .warning strong {
            display: block;
            margin-bottom: 5px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            color: #333;
            font-weight: 600;
            margin-bottom: 8px;
        }

        input[type="email"],
        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="email"]:focus,
        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            width: 100%;
            min-height: 400px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            resize: vertical;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        input[type="checkbox"] {
            margin-right: 10px;
            margin-top: 5px;
        }

        .checkbox-label {
            color: #555;
            font-size: 0.95em;
        }

        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            display: block;
            margin: 30px auto 0;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        @media (max-width: 600px) {
            .container {
                padding: 25px;
            }

            h1 {
                font-size: 2em;
            }

            .code-example {
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Share Your Game with Ploinky</h1>
        <p class="subtitle">Submit your educational game to be included in our public suite</p>

        <div class="info-section">
            <h2>How to Submit Your Game</h2>
            <p>Create your game as a single HTML file that includes all necessary CSS and JavaScript. Your game should be:</p>
            <ul>
                <li>Educational and suitable for children</li>
                <li>Self-contained in a single HTML file</li>
                <li>Free of external dependencies or attachments</li>
                <li>Ready to run in any modern browser</li>
            </ul>
        </div>

        <div class="info-section">
            <h2>Adding Game Metadata</h2>
            <p>Include a metadata block as an HTML comment at the very top of your file. Keep it plain text, one key per line.</p>
            <div class="code-example">
<span class="code-comment">&lt;!--
title: My Amazing Game
author: Your Name
category: Learning
feedName: Ploinky #learning
essence: One short sentence describing the goal of the game.
reactions:
  - A concise perspective about what the learner experiences (12–25 words).
  - A second, distinct perspective with a concrete detail; avoid clichés and emojis.
  - A third perspective focusing on skills practiced or outcomes observed.
--&gt;</span>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;!-- Game code starts here --&gt;
&lt;/html&gt;
            </div>
            <p style="margin-top:10px; font-weight:600">Guidance for <code>reactions</code> (RO)</p>
            <ul>
                <li><strong>Scop:</strong> 3–5 propoziții scurte afișate ca „slide-uri” după cardul principal.</li>
                <li><strong>Conținut:</strong> 12–25 cuvinte, specific, fără platitudini, fără emoji, fără linkuri.</li>
                <li><strong>Diversitate:</strong> fiecare propoziție trebuie să adauge o idee nouă (experiență, abilitate, rezultat).</li>
                <li><strong>Stil:</strong> propoziții independente, la persoana a treia; limbaj clar, educațional.</li>
            </ul>
        </div>

        <div class="warning">
            <strong>⚠️ Important Guidelines:</strong>
            • Submit ONLY the HTML code in the message body below<br>
            • Do NOT include attachments<br>
            • Do NOT add supplementary text or explanations<br>
            • Your game code should be complete and ready to run<br>
            • Keep your game under 1MB in size
        </div>

        <form id="gameSubmitForm" action="mailto:addgame@axiologic.net" method="post" enctype="text/plain">
            <div class="form-group">
                <label for="authorName">Your Name (Optional)</label>
                <input type="text" id="authorName" name="authorName" placeholder="Enter your name or pseudonym">
            </div>

            <div class="form-group">
                <label for="authorEmail">Your Email (Optional - for feedback only)</label>
                <input type="email" id="authorEmail" name="authorEmail" placeholder="your.email@example.com">
            </div>

            <div class="form-group">
                <label for="gameCode">Game HTML Code *</label>
                <div style="color:#666;font-size:0.95em;margin:4px 0 8px;">Add the metadata comment block at the top, following the example above.</div>
                <textarea id="gameCode" name="gameCode" required placeholder="Paste your complete HTML game code here..."></textarea>
            </div>

            <div class="checkbox-group">
                <input type="checkbox" id="license" required>
                <label for="license" class="checkbox-label">
                    I agree to automatically license this game under the public domain. This game will be a gift to the community and can be freely copied, modified, and distributed by anyone.
                </label>
            </div>

            <div class="checkbox-group">
                <input type="checkbox" id="guidelines" required>
                <label for="guidelines" class="checkbox-label">
                    I confirm that my game is appropriate for children, contains no harmful content, and follows the submission guidelines above.
                </label>
            </div>

            <button type="submit" class="submit-btn">Submit Game for Review</button>
        </form>
    </div>

    <script>
        document.getElementById('gameSubmitForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const authorName = document.getElementById('authorName').value || 'Anonymous';
            const authorEmail = document.getElementById('authorEmail').value || 'Not provided';
            const gameCode = document.getElementById('gameCode').value;
            const licenseChecked = document.getElementById('license').checked;
            const guidelinesChecked = document.getElementById('guidelines').checked;
            
            if (!gameCode.trim()) {
                alert('Please paste your game HTML code before submitting.');
                return;
            }
            
            if (!licenseChecked || !guidelinesChecked) {
                alert('Please accept both the license agreement and submission guidelines.');
                return;
            }
            
            // Validate that it's HTML code
            if (!gameCode.includes('<') || !gameCode.includes('>')) {
                alert('Please ensure you are submitting valid HTML code.');
                return;
            }
            
            // Create email body with just the game code
            const subject = `New Game Submission from ${authorName}`;
            const body = gameCode;
            
            // Create mailto link
            const mailtoLink = `mailto:addgame@axiologic.net?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            
            // Check if body is too long for mailto (typically ~2000 chars limit)
            if (mailtoLink.length > 2000) {
                alert('Your game code is too long for email submission. Please ensure your game is under 1MB and try using a simpler email client, or send directly to addgame@axiologic.net with the subject "New Game Submission".');
                
                // Still try to open email client with truncated version
                const truncatedBody = '<!-- Game code too long for mailto link -->\n<!-- Please copy and paste your game code manually -->\n\n' + gameCode.substring(0, 500) + '\n\n<!-- CODE TRUNCATED - Please paste full code -->';
                window.location.href = `mailto:addgame@axiologic.net?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(truncatedBody)}`;
            } else {
                window.location.href = mailtoLink;
            }
            
            // Show success message
            setTimeout(() => {
                alert('Thank you for your submission! Your email client should now open with the game code. Simply send the email to complete your submission. We will review your game and contact you if we need any clarification.');
            }, 100);
        });
        
        // Add character counter for game code
        document.getElementById('gameCode').addEventListener('input', function() {
            const charCount = this.value.length;
            const existingCounter = document.getElementById('charCounter');
            
            if (!existingCounter) {
                const counter = document.createElement('div');
                counter.id = 'charCounter';
                counter.style.color = '#666';
                counter.style.fontSize = '0.9em';
                counter.style.marginTop = '5px';
                this.parentNode.appendChild(counter);
            }
            
            const counterElement = document.getElementById('charCounter');
            counterElement.textContent = `${charCount} characters`;
            
            if (charCount > 50000) {
                counterElement.style.color = '#dc3545';
                counterElement.textContent += ' (Warning: May be too large for email)';
            } else if (charCount > 30000) {
                counterElement.style.color = '#ffc107';
                counterElement.textContent += ' (Getting large)';
            } else {
                counterElement.style.color = '#666';
            }
        });
    </script>
</body>
</html>
